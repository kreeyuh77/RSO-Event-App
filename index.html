	<html>
	<head>
		<title>Events Finder</title>
		<link rel="stylesheet" type="text/css" href="css/stylesheet.css">
		<link rel="icon" href="images/favicon.png">
	</head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<style>

	.box {
		width: 800px;
		height: auto;
	}

	#signuplink:hover{
		opacity: .5;
	}
		
		

	</style>
	<body>
	<!--this is the box with the title and two buttions-->
	<div class="center">
		<div class="box"style="padding-left: 20px;padding-right: 20px;">
		  <h1 align="center">University Event Finder</h1>


				<form>
				<h2 >Log In</h2>
	      		<hr>
				 <label for="schoolbool"><b>Are you a school?</b></label>
				<input type="checkbox" id="schoolbool"> <br><br>
				<label for="uname"><b>Username</b></label>
				<input type="text" id="loginName" placeholder="Enter Username" name="uname" required>

				<label for="psw"><b>Password</b></label>
				<input type="password" id="loginPassword" placeholder="Enter Password" name="psw" required>
				
				<input type="checkbox" onclick="pswdToggle()">Show Password

				<button type="reset" id="loginButton" onclick="doLogin();">Login</button>
				 <span id="loginResult"></span>
			 </form>
			 <p style="font-size: 12px;" align="center">Create an Account:  <span id = "signuplink" style="font-size: 12px;"  onclick="document.getElementById('signup').style.display='block'">Student</span> or 
				<span id = "signuplink" style="font-size: 12px;"  onclick="document.getElementById('signup2').style.display='block'">School</span></p>


		</div>
	</div>


	<!--stdent sign up box-->
	<div id="signup" class="modal">
		<!--this is the close X in the corner-->
		<form class="modal-content animate" onsubmit="event.preventDefault();">
			<div class="imgcontainer">
				<span onclick="document.getElementById('signup').style.display='none'" class="close" title="Close Modal">&times;</span>
			</div>


			<!--input fields and sign up button-->
	    <div class="container">
	      <h1>Student Account Registration</h1>
	      <p>Please fill in this form to create a student account.</p>
	      <hr>


			<label for="first"><b>Name</b></label>
	        <input type="text" id="name" placeholder="Enter Name" name="name" required>

	      <label for="school"><b>School</b></label>
		  <select name="school" aira-placeholder="Select Your School"  id="school" class= "dropBox" required>
			<option>Select Your School</option>
		 </select>
			
	      <label for="user"><b>School Email</b></label>
	      <input type="text" id="email" placeholder="Enter Username" name="email" required>

	      <label for="psw"><b>Password</b></label>
	      <input type="password" id="signupPassword" placeholder="Enter Password" name="psw" required>

		  <label for="psw-repeat"><b>Confirm Password</b></label>
	      <input type="password" id="confirm_signupPassword" placeholder="Confirm Password"  name="psw-repeat" required>


	    	<input type="checkbox" onclick="pswdToggle2()">Show Passwords

	       <!--these are the messages that pop up to validate the passwords-->

				<div id="message">
					<p><b>Recomended that your password contain the following:</b></p>
					<p id="letter" class="invalid">A <b>lowercase</b> letter</p>
					<p id="capital" class="invalid">A <b>capital (uppercase)</b> letter</p>
					<p id="number" class="invalid">A <b>number</b></p>
					<p id="length" class="invalid">Minimum <b>8 characters</b></p>
				</div>

				<div id = "pswdmatch_message">
				</div>

				<button type ="submit" id="signupButton" onclick="doStuff();">Sign Up</button>

		    		<span id="signupResult"></span>
			</div>


				<!--close button-->
			 <div class="container" style="background-color:#f1f1f1">
				 <button type="button" onclick="document.getElementById('signup').style.display='none'" class="cancelbtn">Cancel</button>
			 </div>
	  </form>
	</div>

	<!--school sign up box-->
	<div id="signup2" class="modal">
		<!--this is the close X in the corner-->
		<form class="modal-content animate"  onsubmit="event.preventDefault();">
			<div class="imgcontainer">
				<span onclick="document.getElementById('signup2').style.display='none'" class="close" title="Close Modal">&times;</span>
			</div>


			<!--input fields and sign up button-->
	    <div class="container">
	      <h1>University Account Registration</h1>
	      <p>Please fill in this form to create a University account.</p>
	      <hr>


			<label for="schoolName"><b>School Name</b></label>
	        <input type="text" id="schoolName" placeholder="Enter School Name" name="schoolName" required>

			
	      <label for="user"><b>Username</b></label>
	      <input type="text" id="signupSchoolUsername" placeholder="Enter Username" name="uname" required>

	      <label for="psw"><b>Password</b></label>
	      <input type="password" id="signupSchoolPassword" placeholder="Enter Password" name="psw" required>

			<label for="psw-repeat"><b>Confirm Password</b></label>
	      <input type="password" id="confirm_signupSchoolPassword" placeholder="Confirm Password"  onkeyup='checkPswds2();' name="psw-repeat" required>


	    	<input type="checkbox" onclick="pswdToggle3()">Show Passwords

	       <!--these are the messages that pop up to validate the passwords-->

				<div id="message2">
					<p><b>Recomended that your password contain the following:</b></p>
					<p id="letter2" class="invalid">A <b>lowercase</b> letter</p>
					<p id="capital2" class="invalid">A <b>capital (uppercase)</b> letter</p>
					<p id="number2" class="invalid">A <b>number</b></p>
					<p id="length2" class="invalid">Minimum <b>8 characters</b></p>
				</div>

				<div id = "pswdmatch_message2">
				</div>

				<button type="submit" id="signupButton2" onclick="doStuff2();">Sign Up</button>

		    		<span id="signupResult"></span>
			</div>


				<!--close button-->
			 <div class="container" style="background-color:#f1f1f1">
				 <button type="button" onclick="document.getElementById('signup2').style.display='none'" class="cancelbtn">Cancel</button>
			 </div>
	  </form>
	</div>

	<script>
	// Get the modal
	var modal = document.getElementById('signup');
	var modal2 = document.getElementById('signup2');
	// When the user clicks anywhere outside of the modal, close it
	window.onclick = function(event) {
	    if (event.target == modal) {
	        modal.style.display = "none";
	    }
		if (event.target == modal2) {
	        modal2.style.display = "none";
	    }
	}


	//toggle password visibility in each window
	function pswdToggle() {
	  var x = document.getElementById("loginPassword");
	  if (x.type === "password") {
	    x.type = "text";
	  } else {
	    x.type = "password";
	  }
	}


	function pswdToggle2() {
	  var x = document.getElementById("signupPassword");
	  if (x.type === "password") {
	    x.type = "text";
	  } else {
	    x.type = "password";
	  }

		var y = document.getElementById("confirm_signupPassword");
	  if (y.type === "password") {
	    y.type = "text";
	  } else {
	    y.type = "password";
	  }
	}

	function pswdToggle3() {
	  var x = document.getElementById("signupSchoolPassword");
	  if (x.type === "password") {
	    x.type = "text";
	  } else {
	    x.type = "password";
	  }

		var y = document.getElementById("confirm_signupSchoolPassword");
	  if (y.type === "password") {
	    y.type = "text";
	  } else {
	    y.type = "password";
	  }
	}

	var hasLetter = false;
	var hasCapital = false;
	var hasNumber = false;
	var hasLength = false;

	var hasLetter2 = false;
	var hasCapital2 = false;
	var hasNumber2 = false;
	var hasLength2 = false;
	
	function doStuff(){
		if (checkPswds() === true && checkValidPass() === true)
		{
			//console.log("siging up");
			document.getElementById('pswdmatch_message').style.color = 'green';
	    	document.getElementById('pswdmatch_message').innerHTML = 'Success';
			doSignup();
			location.href = "html/signupsuccessstudent.html";
			
		}
		else if (checkPswds() == false && checkValidPass() == false)
		{
			document.getElementById('pswdmatch_message').style.color = 'red';
	    	document.getElementById('pswdmatch_message').innerHTML = 'Passwords do not match and are not in the valid format';
		}
		else if (checkPswds() == false && checkValidPass() == true)
		{
			document.getElementById('pswdmatch_message').style.color = 'red';
	    	document.getElementById('pswdmatch_message').innerHTML = 'Passwords do not match';
		}
		else if (checkPswds() == true && checkValidPass() == false)
		{
			document.getElementById('pswdmatch_message').style.color = 'red';
	    	document.getElementById('pswdmatch_message').innerHTML = 'Passwords are not in the valid format';
		}
		else 
		{
			document.getElementById('pswdmatch_message').style.color = 'red';
	    	document.getElementById('pswdmatch_message').innerHTML = 'Error';
		}
	}

	function doStuff2(){
		if (checkPswds2() === true && checkValidPass2() === true)
		{
			//console.log("siging up");
			document.getElementById('pswdmatch_message2').style.color = 'green';
	    	document.getElementById('pswdmatch_message2').innerHTML = 'Success';
			doSchoolSignup();
			location.href = "html/signupsuccessschool.html";
		}
		else if (checkPswds2() == false && checkValidPass2() == false)
		{
			document.getElementById('pswdmatch_message2').style.color = 'red';
	    	document.getElementById('pswdmatch_message2').innerHTML = 'Passwords do not match and are not in the valid format';
		}
		else if (checkPswds2() == false && checkValidPass2() == true)
		{
			document.getElementById('pswdmatch_message2').style.color = 'red';
	    	document.getElementById('pswdmatch_message2').innerHTML = 'Passwords do not match';
		}
		else if (checkPswds2() == true && checkValidPass2() == false)
		{
			document.getElementById('pswdmatch_message2').style.color = 'red';
	    	document.getElementById('pswdmatch_message2').innerHTML = 'Passwords are not in the valid format';
		}
		else 
		{
			document.getElementById('pswdmatch_message').style.color = 'red';
	    	document.getElementById('pswdmatch_message').innerHTML = 'Error';
		}
	}


	// this makes sure the paswords match when signing up
	function checkPswds() {
	  if (document.getElementById('signupPassword').value == document.getElementById('confirm_signupPassword').value) {
	    // document.getElementById('pswdmatch_message').style.color = 'green';
	    // document.getElementById('pswdmatch_message').innerHTML = 'Passwords match';
		return true;
	    //document.getElementById('signupButton').disabled = false;
	  } else {
	    // document.getElementById('pswdmatch_message').style.color = 'red';
	    // document.getElementById('pswdmatch_message').innerHTML = 'Passwords do not match';
		return false;
	    //document.getElementById('signupButton').disabled = true;
	  }
	
	}

	function checkValidPass(){
		if(hasLetter && hasCapital && hasNumber && hasLength)
		{
			return true;
		}
		else
		{
			return false;
		}
	}

	function checkPswds2() {
	  if (document.getElementById('signupSchoolPassword').value ==
	    document.getElementById('confirm_signupSchoolPassword').value) {
	    // document.getElementById('pswdmatch_message2').style.color = 'green';
	    // document.getElementById('pswdmatch_message2').innerHTML = 'Passwords match';
	    //document.getElementById('signupButton2').disabled = false;
		return true;
	  } else {
	    // document.getElementById('pswdmatch_message2').style.color = 'red';
	    // document.getElementById('pswdmatch_message2').innerHTML = 'Passwords do not match';
	    //document.getElementById('signupButton2').disabled = true;
		return false;
	  }
	}

	function checkValidPass2(){
		if(hasLetter2 && hasCapital2 && hasNumber2 && hasLength2)
		{
			return true;
		}
		else
		{
			return false;
		}
	}


	// this part is for the password validation
	var myInput = document.getElementById("signupPassword");
	var letter = document.getElementById("letter");
	var capital = document.getElementById("capital");
	var number = document.getElementById("number");
	var length = document.getElementById("length");
	var numTrue = 0;

	var myInput2 = document.getElementById("signupSchoolPassword");
	var letter2 = document.getElementById("letter2");
	var capital2 = document.getElementById("capital2");
	var number2 = document.getElementById("number2");
	var length2 = document.getElementById("length2");
	var numTrue2 = 0;

	// // When the user clicks on the password field, show the message box
	// myInput.onfocus = function() {
	//   document.getElementById("message").style.display = "block";
	// }
	// myInput2.onfocus = function() {
	//   document.getElementById("message2").style.display = "block";
	// }


	// // When the user clicks outside of the password field, hide the message box
	// myInput.onblur = function() {
	//   document.getElementById("message").style.display = "none";
	// }
	// myInput2.onblur = function() {
	//   document.getElementById("message2").style.display = "none";
	// }


	// When the user starts to type something inside the password field
	myInput.onkeyup = function() {
		
	  // Validate lowercase letters
	  var lowerCaseLetters = /[a-z]/g;
	  if(myInput.value.match(lowerCaseLetters)) {
	    letter.classList.remove("invalid");
	    letter.classList.add("valid");
		hasLetter = true;
	  } else {
	    letter.classList.remove("valid");
	    letter.classList.add("invalid");
		hasLetter = false;
	  }
	 
	  // Validate capital letters
	  var upperCaseLetters = /[A-Z]/g;
	  if(myInput.value.match(upperCaseLetters)) {
	    capital.classList.remove("invalid");
	    capital.classList.add("valid");
		hasCapital = true;
	  } else {
	    capital.classList.remove("valid");
	    capital.classList.add("invalid");
		hasCapital = false;
	  }

	  // Validate numbers
	  var numbers = /[0-9]/g;
	  if(myInput.value.match(numbers)) {
	    number.classList.remove("invalid");
	    number.classList.add("valid");
		hasNumber = true;
	  } else {
	    number.classList.remove("valid");
	    number.classList.add("invalid");
		hasNumber = false;
	  }

	  // Validate length
	  if(myInput.value.length >= 8) {
	    length.classList.remove("invalid");
	    length.classList.add("valid");
		hasLength = true;
	  } else {
	    length.classList.remove("valid");
	    length.classList.add("invalid");
		hasLength = false;
	  }
	}

	myInput2.onkeyup = function() {
	  // Validate lowercase letters
	  var lowerCaseLetters = /[a-z]/g;

	  if(myInput2.value.match(lowerCaseLetters)) {
	    letter2.classList.remove("invalid");
	    letter2.classList.add("valid");
		hasLetter2 = true;
	  } else {
	    letter2.classList.remove("valid");
	    letter2.classList.add("invalid");
		hasLetter2 = false;
	  }


	  // Validate capital letters
	  var upperCaseLetters = /[A-Z]/g;
	  if(myInput2.value.match(upperCaseLetters)) {
	    capital2.classList.remove("invalid");
	    capital2.classList.add("valid");
		hasCapital2 = true;
	  } else {
	    capital2.classList.remove("valid");
	    capital2.classList.add("invalid");
		hasCapital2 = true;
	  }


	  // Validate numbers
	  var numbers = /[0-9]/g;
	  if(myInput2.value.match(numbers)) {
	    number2.classList.remove("invalid");
	    number2.classList.add("valid");
		hasNumber2 = true;
	  } else {
	    number2.classList.remove("valid");
	    number2.classList.add("invalid");
		hasNumber2 = false;
	  }

	  // Validate length
	  
	 if(myInput2.value.length >= 8) {
	    length2.classList.remove("invalid");
	    length2.classList.add("valid");
		hasLength2 = true;
	  } else {
	    length2.classList.remove("valid");
	    length2.classList.add("invalid");
		hasLength2 = false;
	  }
	}

	// doSchoolSearch();
	
	document.addEventListener('DOMContentLoaded', function() {
        doSchoolDropdown();
    }, false); 
	
	// // populate school drop down - something like this might need to be added to the javascript for this page
	// var select = document.getElementById("schoolName");
	// var options = ["1", "2", "3", "4", "5"];

	// for(var i = 0; i < options.length; i++) 
	// {
	// 	var opt = options[i];
	// 	var el = document.createElement("option");
	// 	el.textContent = opt;
	// 	el.value = opt;
	// 	select.appendChild(el);
	// }
		
	</script>
	<script type="text/javascript" src="javascript/doSignup.js"></script>
	<script type="text/javascript" src="javascript/doLogin.js"></script>
	<script type="text/javascript" src="javascript/md5.js"></script>
	<script src="https://kit.fontawesome.com/5dfef646bd.js" crossorigin="anonymous"></script>
	</body>

