<html>
	<head>
		<title>University Events</title>
		<script type="text/javascript" src="../javascript/doFunctions.js"></script>
		<script type="text/javascript" src="../javascript/doLogout.js"></script>
		<script type="text/javascript" src="../javascript/doCookie.js"></script>
		<script src="https://kit.fontawesome.com/5dfef646bd.js" crossorigin="anonymous"></script>
		<link rel="icon" href="../images/favicon.png">
		<link rel="stylesheet" type="text/css" href="../css/stylesheet.css">
		
	<meta name="viewport" content="width=device-width, initial-scale=1">
	</head>
	<style>

	.box {
		width: auto;
		height: auto;
	}

	#editContactButton:hover{
		opacity: .5;
	}
	#deleteContactButton:hover{
		opacity: .5;
	}
	#searchContactButton:hover{
		opacity: 1;
	}
	#searchContactIcon:hover{
		opacity: .5;
	}


	</style>
	<body>
	<div class="box" style="margin: 35px 35px 35px 35px; padding-left: 100px;padding-right: 100px; padding-bottom: 50px; padding-top: 50px">
		<h2>University Events</h2>
		<div align ="center" id = "eventName"></div><br>
		<div align ="center" id = "eventRating"></div><br>
			
			<button type = "button" onclick="openComment();" style="width:auto; margin:0 0 0 10px;padding: 17.5px 20px 17.5px 20px;float:left;	border-radius: 4 4px 4px 4;">Comment</button>
			<button type = "button" onclick="openRate();" style="width:auto; margin:0 0 0 10px;padding: 17.5px 20px 17.5px 20px;float:left;	border-radius: 4 4px 4px 4;">Rate</button>
			
		 	
			<button onclick="doLogout()" style="width:auto; background-color:gray;margin:0 0 0 10px;padding: 16px 20px 16px 20px;float:right;	border-radius: 4 4px 4px 4; " ><i class="fas fa-sign-out-alt"></i>Logout</button>
			<br><br><br>

				<!--items displays here-->
				<hr>
				<p id="eventResult">There are no comments to display</p>
				<div id="eventList"></div>
		</div>


	<!--rate box-->
	<div id="rateEvent" class="modal">
			<!--this is the close X in the corner-->
		<form class="modal-content animate">
			<div class="imgcontainer">
				<span onclick="document.getElementById('rateEvent').style.display='none'" class="close" title="Close Modal">&times;</span>
			</div>

			 <!--input fields-->
			<div class="container">
				<h1 >Rate Event</h1>
				<p id='editName'></p>
	      <hr>
				<select name="rate"  id="rate" class= "dropBox" required>
					<option disabled selected value>Select Rate</option>
					<option value=1>1</option>
					<option value=2>2</option>
					<option value=3>3</option>
					<option value=4>4</option>
					<option value=5>5</option>
				</select>
				<p align = "center" id = "rateResult"></p>
				<button type="reset" id="rateButton" onclick="doRate()">Rate</button>

			</div>
			 <!--close button-->
			<div class="container" style="background-color:#f1f1f1">
				<button type="button" onclick="document.getElementById('rateEvent').style.display='none'" class="cancelbtn">Cancel</button>
			</div>
		</form>
	</div>

	<!--create comment box-->
	<div id="createComment" class="modal">
		<!--this is the close X in the corner-->
	<form class="modal-content animate">
		<div class="imgcontainer">
			<span onclick="document.getElementById('createComment').style.display='none'" class="close" title="Close Modal">&times;</span>
		</div>

		 <!--input fields-->
		<div class="container">
			<h1>Comment</h1>
	 	 <hr>
			<label><b>Comment</b></label>
			<input type="text" id="comment" placeholder="Enter Comment" name="comment" required>


			<button type="reset" id="createCommentButton" onclick="doCreateComment();">Comment</button>
			<p align = "center" id = "createCommentResult"></p>

		</div>
		 <!--close button-->
		<div class="container" style="background-color:#f1f1f1">
			<button type="button" onclick="document.getElementById('createComment').style.display='none'" class="cancelbtn">Cancel</button>
		</div>
	</form>
</div>

	<script>
	// Read cookie with user info
	document.addEventListener('DOMContentLoaded', function() {
		readCookie();
	}, false);

	document.addEventListener('DOMContentLoaded', function() {
		doFindComments();
	}, false);

	// document.addEventListener('DOMContentLoaded', function() {
	// 	doFindRate();
	// }, false);

	// Get the modal
	var modal = document.getElementById('createComment');
	var modal2 = document.getElementById('rateEvent');
	// When the user clicks anywhere outside of the modal, close it
	window.onclick = function(event) {
		if (event.target == modal) {
			modal.style.display = "none";
		}
		if (event.target == modal2) {
			modal2.style.display = "none";
		}
	}


	function openRate(){
		document.getElementById('rateResult').innerHTML="";
		document.getElementById('rateEvent').style.display='block'
	}
	function openComment(){
		document.getElementById('createCommentResult').innerHTML="";
		document.getElementById('createComment').style.display='block'
	}

	</script>
	</body>
